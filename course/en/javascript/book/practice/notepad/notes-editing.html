<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Editing notes in a notepad in JavaScript | </title>
		
		<link rel="stylesheet" href="../../../../../tore/@/fonts/listΣ.css?v=1">
<link rel="stylesheet" href="../../../../../tore/layd/deff/&/aefb44b7dac371a3860e9079298a950e.ructΣ.css">
<link rel="stylesheet" href="../../../../../tore/&/2290bf7aeadc4261337d6f570a3cf0c5.apprΣ.css">

<script src="../../../../../tore/&/77748427269d1c81490f5acb6ce46fc1.apprΣ.js" defer></script>


<meta name="yandex-verification" content="00eb45b7559e5c68">
<meta name="google-site-verification" content="Af0TM2OrwIEtjoQXxYz2-1C-21E1m7DB23_kWpE9sLg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">		
		<meta name="description" content="In this lesson, we will implement editing notes in a notepad in JavaScript.">
		<link rel="shortcut icon" type="image/x-icon" href="../../../../../favicon.ico">
	</head>
	<body id="top" data-gq="D">
		<div data-r="ruct/wrap">
			<header>
				<div data-r="ruct/topp">
	<div data-r="topp/left">
		<div data-w="nict/logo">
	<img data-e="img" data-x src="" alt="">
</div>	</div>
	<div data-r="topp/righ">
		offline version v3	</div>
	<div data-r="topp/cent">
		<br><br>	</div>
</div>								
				<div data-r="ruct/navi">
					<div data-w="nict/over">
					<a href="../../../../../en/javascript/book/practice.html" data-e="link" data-x>menu</a>
	</div>					<nav data-w="nict/mainmenu">
	<section data-e="main" data-x data-gm-acte="T">
		<span data-q-href="/en/markup/" data-e="open" data-x data-m-targ="markup">Markup</span>
		<span data-q-href="/en/javascript/" data-e="open" data-x data-m-targ="javascript">JavaScript</span>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="markup">
		<a href="../../../../../en/markup/manual/html.html">HTML manual</a>
		<a href="../../../../../en/markup/manual/css.html">CSS manual</a>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="javascript">
		<a href="../../../../../en/javascript/book/prime.html">Prime book</a>
		<a href="../../../../../en/javascript/book/practice.html">Practice book</a>
		<a href="../../../../../en/javascript/book/supreme.html">Supreme book</a>
		<a href="../../../../../en/javascript/manual.html">Manual</a>
	</section>
</nav>									</div>
			</header>
			<main>
				<div data-w="nict/hett">
	<h1>Editing notes in a notepad in JavaScript</h1>
</div>				<div data-p="cont/pane">
<p>
	In the previous lesson, we made it so that you 
	can view already created notes. Let's now make 
	that the note you are viewing can be edited.
</p>
<p>
	Of course, even now you can edit our entry in 
	textarea, but these changes will not be saved 
	in the notes object. That is, the next time 
	you view the note, it will still have the 
	outdated text.
</p>
<p>
	What will we have now if we press the save 
	button while viewing the note? A new entry 
	will simply be created with this text.
</p>
<p>
	So, let's change the situation so that you can 
	both save new entries and edit already created ones.
</p>

<h2>Solution algorithm</h2>
<p>
	Let's make it so that clicking on the button 
	in the view mode edits the note, and clicking 
	on the button in the creation mode creates a 
	new note.
</p>
<p>
	Let the mode be set by the <code data-gs="comd/c" data-x>data-mode</code> 
	attribute for our button. Let if this attribute 
	has the value <code data-gs="comd/v" data-x>'create'</code> - the button 
	saves a new note:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="text"&gt;
	&lt;textarea&gt;&lt;/textarea&gt;
	&lt;button data-mode="create"&gt;save&lt;/button&gt;
&lt;/div&gt;</code>
</div>
<p>
	And if this attribute has the value <code data-gs="comd/v" data-x>'update'</code> - let 
	the button edit the opened note. In this case, the number 
	of the opened note will be stored in the <code data-gs="comd/c" data-x>data-key</code> 
	attribute:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="text"&gt;
	&lt;textarea&gt;&lt;/textarea&gt;
	&lt;button data-mode="update" data-key="3"&gt;save&lt;/button&gt;
&lt;/div&gt;</code>
</div>
<p>
	I will present your JavaScript code for 
	the button click handler:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">button.addEventListener('click', function() {
	let mode = this.dataset.mode;
	
	if (mode == 'create') {
		// your code to create a new note
	}
	
	if (mode == 'update') {
		let key = this.dataset.key;
		
		// your code to edit the note with number 'key'
	}
});</code>
</div>

<h2>Change of modes</h2>
<p>
	Obviously, there will be no saved notes upon entering 
	the page. This means that initially the button must 
	be in <code data-gs="comd/c" data-x>creation</code> mode.
</p>
<p>
	Then, when you click to view any note, the button mode 
	should change to <code data-gs="comd/c" data-x>update</code> and the number of the 
	opened note should be written to <code data-gs="comd/c" data-x>data-key</code>.
</p>
<p>
	How will the mode change from editing back to creating? 
	I would suggest that clicking on the button during edit 
	mode should update the note and change to creation mode.
</p>
<p>
	This, however, is not enough. After all, we can simply 
	want view the note without editing it. And then we may 
	want to return to creation. In this case, we need 
	another button that will return us to creation mode.
</p>
<p>
	Let's insert this button into our layout:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="wrapper"&gt;
	&lt;div id="menu"&gt;
		&lt;div id="notes"&gt;
			&lt;ul id="notes"&gt;
				&lt;li data-key="1"&gt;note 1&lt;/li&gt;
				&lt;li data-key="2"&gt;note 2&lt;/li&gt;
				&lt;li data-key="3"&gt;note 3&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;div id="create"&gt;
			&lt;button&gt;new note&lt;/button&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div id="text"&gt;
		&lt;textarea&gt;&lt;/textarea&gt;
		&lt;button&gt;save&lt;/button&gt;
	&lt;/div&gt;
&lt;/div&gt;</code>
</div>

<h2>Implementation</h2>
<div data-w="cont/task">
	<p>
		Implement described editing the note.
	</p>
</div>
<div data-w="cont/task">
	<p>
		Make the screen display the 
		mode we are currently in.
	</p>
</div>
</div>			</main>
						<footer data-w="ruct/foot">
				<div data-w="nict/finf">
	<span data-e="text" data-x>
		Trepachev Dmitry &copy; 2012-2024	</span>
	<br>
	<a data-e="link" data-x href="https://t.me/trepachev_dmitry">t.me/trepachev_dmitry</a>
</div>							</footer>
			<div data-w="nict/jump">
	<a href="#top"><span>&uarr;</span></a>
</div>			<div data-w="nict/lagr">
	<a href="../../../../../en/javascript/book/practice/notepad/notes-editing.html" data-m-curr="T">en</a><a href="../../../../../ru/javascript/book/practice/notepad/notes-editing.html" data-m-curr="F">ru</a></div>					</div>
		
		<script src="../../../../../tore/@/metrikaΣ.js?v=1"></script>	</body>
</html>