<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Calendar in JavaScript | </title>
		
		<link rel="stylesheet" href="../../../../../tore/@/fonts/listΣ.css?v=1">
<link rel="stylesheet" href="../../../../../tore/layd/deff/&/aefb44b7dac371a3860e9079298a950e.ructΣ.css">
<link rel="stylesheet" href="../../../../../tore/&/2290bf7aeadc4261337d6f570a3cf0c5.apprΣ.css">

<script src="../../../../../tore/&/77748427269d1c81490f5acb6ce46fc1.apprΣ.js" defer></script>


<meta name="yandex-verification" content="00eb45b7559e5c68">
<meta name="google-site-verification" content="Af0TM2OrwIEtjoQXxYz2-1C-21E1m7DB23_kWpE9sLg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">		
		<meta name="description" content="In this lesson, we will implement a square calendar in JavaScript.">
		<link rel="shortcut icon" type="image/x-icon" href="../../../../../favicon.ico">
	</head>
	<body id="top" data-gq="D">
		<div data-r="ruct/wrap">
			<header>
				<div data-r="ruct/topp">
	<div data-r="topp/left">
		<div data-w="nict/logo">
	<img data-e="img" data-x src="" alt="">
</div>	</div>
	<div data-r="topp/righ">
		offline version v3	</div>
	<div data-r="topp/cent">
		<br><br>	</div>
</div>								
				<div data-r="ruct/navi">
					<div data-w="nict/over">
			<span data-e="hash" data-x>⊗jsPrCndTF</span>
				<span data-e="lofo" data-x>52 of 62</span>
				<a href="../../../../../en/javascript/book/practice.html" data-e="link" data-x>menu</a>
	</div>					<nav data-w="nict/mainmenu">
	<section data-e="main" data-x data-gm-acte="T">
		<span data-q-href="/en/markup/" data-e="open" data-x data-m-targ="markup">Markup</span>
		<span data-q-href="/en/javascript/" data-e="open" data-x data-m-targ="javascript">JavaScript</span>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="markup">
		<a href="../../../../../en/markup/manual/html.html">HTML manual</a>
		<a href="../../../../../en/markup/manual/css.html">CSS manual</a>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="javascript">
		<a href="../../../../../en/javascript/book/prime.html">Prime book</a>
		<a href="../../../../../en/javascript/book/practice.html">Practice book</a>
		<a href="../../../../../en/javascript/book/supreme.html">Supreme book</a>
		<a href="../../../../../en/javascript/manual.html">Manual</a>
	</section>
</nav>									</div>
			</header>
			<main>
				<div data-w="nict/hett">
	<h1>Calendar in JavaScript</h1>
</div>				<div data-p="cont/pane">
<p>
	In this section, we will implement a calendar. 
	For simplicity, we will simply make the calendar 
	display for the current month. But with an eye 
	to the fact that it can be finalized so that 
	you can change the month and year. Here is an 
	example of what we should get:
</p>
<div data-p="bock/pane">
					<div data-w="bock/tain">
						<iframe data-e="iframe" data-x srcdoc="<!DOCTYPE html>
	<head>
		<base target=&quot;_blank&quot;>
		<meta charset=&quot;utf-8&quot;>
		<meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;>
		
		<style>
			
		</style>
		<style>
			#parent {
			text-align: center;
		}
		#calendar {
			display: inline-block;
		}
		#calendar td, #calendar th {
			padding: 5px 12px;
			border: 1px solid black;
			text-align: center;
		}
		</style>
	</head>
	<body>
		
		<div id=&quot;parent&quot;>
			<div id=&quot;calendar&quot;>
				<table>
					<thead>
						<tr>
							<th>Mon</th>
							<th>Tue</th>
							<th>Wed</th>
							<th>Thu</th>
							<th>Fri</th>
							<th>Sat</th>
							<th>Sun</th>
						</tr>
					</thead>
					<tbody class=&quot;body&quot;></tbody>
				</table>
			</div>
		</div>
		
		<script>
			
			let calendar = document.querySelector('#calendar');
		let body = calendar.querySelector('.body');
		let prev = calendar.querySelector('.prev');
		let next = calendar.querySelector('.next');
		
		let date  = new Date();
		let year  = date.getFullYear();
		let month = date.getMonth();
		
		draw(body, year, month);
		
		function draw(body, year, month) {
			let arr = range(getLastDay(year, month));
			
			let firstWeekDay = getFirstWeekDay(year, month);
			let lastWeekDay  = getLastWeekDay(year, month);
			
			let nums = chunk(normalize(arr, firstWeekDay, 6 - lastWeekDay), 7);
			createTable(body, nums)
		}
		
		function createTable(parent, arr) {
			parent.textContent = '';
			let cells = [];
			
			for (let sub of arr) {
				let tr = document.createElement('tr');
				
				for (let num of sub) {
					let td = document.createElement('td');
					td.textContent = num;
					tr.appendChild(td);
					
					cells.push(td);
				}
				
				parent.appendChild(tr);
			}
			
			return cells;
		}
		
		function normalize(arr, left, right) {
			for (let i = 0; i < left; i++) {
				arr.unshift('');
			}
			for (var i = 0; i < right; i++) {
				arr.push('');
			}
			
			return arr;
		}
		
		function getFirstWeekDay(year, month) {
			let date = new Date(year, month, 1);
			let num  = date.getDay();
			
			if (num == 0) {
				return 6;
			} else {
				return num - 1;
			}
		}
		
		function getLastWeekDay(year, month) {
			let date = new Date(year, month + 1, 0);
			let num  = date.getDay();
			
			if (num == 0) {
				return 6;
			} else {
				return num - 1;
			}
		}
		
		function getLastDay(year, month) {
			let date = new Date(year, month + 1, 0);
			return date.getDate();
		}

		function range(count) {
			let arr = [];
			
			for (let i = 1; i <= count; i++) {
				arr.push(i);
			}
			
			return arr;
		}
		
		function chunk(arr, n) {
			let result = [];
			let count = Math.ceil(arr.length / n);
			
			for (let i = 0; i < count; i++) {
				let elems = arr.splice(0, n);
				result.push(elems);
			}
			
			return result;
		}
		</script>
	</body>
</html>"></iframe>
					</div>
				</div>
<p>
	Here is the layout that you can use 
	when solving the problem:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="parent"&gt;
	&lt;div id="calendar"&gt;
		&lt;table&gt;
			&lt;thead&gt;
				&lt;tr&gt;
					&lt;th&gt;Mon&lt;/th&gt;
					&lt;th&gt;Tue&lt;/th&gt;
					&lt;th&gt;Wed&lt;/th&gt;
					&lt;th&gt;Thu&lt;/th&gt;
					&lt;th&gt;Fri&lt;/th&gt;
					&lt;th&gt;Sat&lt;/th&gt;
					&lt;th&gt;Sun&lt;/th&gt;
				&lt;/tr&gt;
			&lt;/thead&gt;
			&lt;tbody class="body"&gt;&lt;/tbody&gt;
		&lt;/table&gt;
	&lt;/div&gt;
&lt;/div&gt;</code>
	<code data-w="bock/code" data-lo="high" data-m-lang="css">#parent {
	text-align: center;
}
#calendar {
	display: inline-block;
}
#calendar td, #calendar th {
	padding: 5px 12px;
	border: 1px solid black;
	text-align: center;
}</code>
</div>
<p>
	Immediately, let's get references to all the 
	necessary tags in variables, and also write 
	down the current month and year:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let calendar = document.querySelector('#calendar');
let body = calendar.querySelector('.body');

let date  = new Date();
let year  = date.getFullYear();
let month = date.getMonth();</code>
</div>
<div data-w="cont/task">
	<p>
		Copy the code snippets I have provided.
	</p>
</div>
</div>			</main>
				<div data-w="nict/nebr">
					<a href="../../../../../en/javascript/book/practice/game-change-color/moves-number-showing.html" data-e="prev" data-x>
				<span data-e="arow" data-x>&larr;</span>
			</a>
							<a href="../../../../../en/javascript/book/practice/calendar/task-discussion.html" data-e="next" data-x>
				<span data-e="arow" data-x>&rarr;</span>
			</a>
			</div>
			<footer data-w="ruct/foot">
				<div data-w="nict/finf">
	<span data-e="text" data-x>
		Trepachev Dmitry &copy; 2012-2024	</span>
	<br>
	<a data-e="link" data-x href="https://t.me/trepachev_dmitry">t.me/trepachev_dmitry</a>
</div>							</footer>
			<div data-w="nict/jump">
	<a href="#top"><span>&uarr;</span></a>
</div>			<div data-w="nict/lagr">
	<a href="../../../../../en/javascript/book/practice/calendar/task-formulation.html" data-m-curr="T">en</a><a href="../../../../../ru/javascript/book/practice/calendar/task-formulation.html" data-m-curr="F">ru</a></div>					</div>
		
		<script src="../../../../../tore/@/metrikaΣ.js?v=1"></script>	</body>
</html>