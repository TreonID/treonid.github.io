<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Editing a single element in JavaScript | </title>
		
		<link rel="stylesheet" href="../../../../../../tore/@/fonts/listΣ.css?v=1">
<link rel="stylesheet" href="../../../../../../tore/layd/deff/&/aefb44b7dac371a3860e9079298a950e.ructΣ.css">
<link rel="stylesheet" href="../../../../../../tore/&/2290bf7aeadc4261337d6f570a3cf0c5.apprΣ.css">

<script src="../../../../../../tore/&/77748427269d1c81490f5acb6ce46fc1.apprΣ.js" defer></script>


<meta name="yandex-verification" content="00eb45b7559e5c68">
<meta name="google-site-verification" content="Af0TM2OrwIEtjoQXxYz2-1C-21E1m7DB23_kWpE9sLg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">		
		<meta name="description" content="In this lesson, we will study editing a single element in JavaScript.">
		<link rel="shortcut icon" type="image/x-icon" href="../../../../../../favicon.ico">
	</head>
	<body id="top" data-gq="D">
		<div data-r="ruct/wrap">
			<header>
				<div data-r="ruct/topp">
	<div data-r="topp/left">
		<div data-w="nict/logo">
	<img data-e="img" data-x src="" alt="">
</div>	</div>
	<div data-r="topp/righ">
		offline version v3	</div>
	<div data-r="topp/cent">
		<br><br>	</div>
</div>								
				<div data-r="ruct/navi">
					<div data-w="nict/over">
			<span data-e="hash" data-x>⊗jsPmPrSEE</span>
				<span data-e="lofo" data-x>474 of 502</span>
				<a href="../../../../../../en/javascript/book/prime.html" data-e="link" data-x>menu</a>
	</div>					<nav data-w="nict/mainmenu">
	<section data-e="main" data-x data-gm-acte="T">
		<span data-q-href="/en/markup/" data-e="open" data-x data-m-targ="markup">Markup</span>
		<span data-q-href="/en/javascript/" data-e="open" data-x data-m-targ="javascript">JavaScript</span>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="markup">
		<a href="../../../../../../en/markup/manual/html.html">HTML manual</a>
		<a href="../../../../../../en/markup/manual/css.html">CSS manual</a>
	</section>
	
	<section data-e="subb" data-x data-gm-acte="F" data-m-tabb="javascript">
		<a href="../../../../../../en/javascript/book/prime.html">Prime book</a>
		<a href="../../../../../../en/javascript/book/practice.html">Practice book</a>
		<a href="../../../../../../en/javascript/book/supreme.html">Supreme book</a>
		<a href="../../../../../../en/javascript/manual.html">Manual</a>
	</section>
</nav>									</div>
			</header>
			<main>
				<div data-w="nict/hett">
	<h1>Editing a single element in JavaScript</h1>
</div>				<div data-p="cont/pane">
<p>
	Now we will learn how to edit element texts 
	using input fields. Let's start with simple 
	things and gradually get more complex.
</p>
<p>
	So, let's say we have a paragraph and an input 
	located in the same parent:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="parent"&gt;
	&lt;p id="elem"&gt;text&lt;/p&gt;
	&lt;input id="input"&gt;
&lt;/div&gt;</code>
</div>
<p>
	Let's make it so that when the focus is lost 
	in the input, its text appears in the paragraph:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let elem = document.querySelector('#elem');
let input = document.querySelector('#input');

input.addEventListener('blur', function() {
	elem.textContent = this.value;
});</code>
</div>
<p>
	Let's now make it so that when you enter the page, 
	the input already contains the text of the paragraph. 
	Thus, using the input, we will be able to edit the 
	text located in the paragraph.
</p>
<p>
	Let's implement:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let elem = document.querySelector('#elem');
let input = document.querySelector('#input');

input.value = elem.textContent; // writes the paragraph text to the input

input.addEventListener('blur', function() {
	elem.textContent = this.value;
});</code>
</div>
<div data-w="cont/task">
	<p>
		Modify the code above so that the paragraph text 
		doesn't change when focus is lost, but as text 
		is entered into the input.
	</p>
</div>

<h2>Appearance of input</h2>
<p>
	Let's now make it so that the input was not initially 
	on the page, but it appeared when clicking on the 
	paragraph. So our initial HTML will look like this:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="html">&lt;div id="parent"&gt;
	&lt;p id="elem"&gt;text&lt;/p&gt;
&lt;/div&gt;</code>
</div>
<p>
	To begin with, we simply implement the appearance 
	of the input, without editing:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let elem = document.querySelector('#elem');

elem.addEventListener('click', function() {
	let input = document.createElement('input');
	input.value = elem.textContent;
	
	elem.parentElement.appendChild(input);
});</code>
</div>
<p>
	And now let's make it so that when the focus is 
	lost in the input, the text of the 
	paragraph changes:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let elem = document.querySelector('#elem');

elem.addEventListener('click', function() {
	let input = document.createElement('input');
	input.value = elem.textContent;
	
	input.addEventListener('blur', function() {
		elem.textContent = this.value;
	});
	
	elem.parentElement.appendChild(input);
});</code>
</div>
<p>
	Our code, however, is not perfect, since each click on 
	a paragraph will result in a new input.
</p>
<p>
	To solve the problem, we will simply remove the 
	current input by losing focus:
</p>
<div data-p="bock/pane">
	<code data-w="bock/code" data-lo="high" data-m-lang="javascript">let elem = document.querySelector('#elem');

elem.addEventListener('click', function() {
	let input = document.createElement('input');
	input.value = elem.textContent;
	
	input.addEventListener('blur', function() {
		elem.textContent = this.value;
		this.remove(); // removes the input
	});
	
	elem.parentElement.appendChild(input);
});</code>
</div>
<div data-w="cont/task">
	<p>
		On your own, without looking into my code, 
		solve the described problem.
	</p>
</div>
</div>			</main>
				<div data-w="nict/nebr">
					<a href="../../../../../../en/javascript/book/prime/dom/practice/creating-removing-links.html" data-e="prev" data-x>
				<span data-e="arow" data-x>&larr;</span>
			</a>
							<a href="../../../../../../en/javascript/book/prime/dom/practice/edit-hiding-text.html" data-e="next" data-x>
				<span data-e="arow" data-x>&rarr;</span>
			</a>
			</div>
			<footer data-w="ruct/foot">
				<div data-w="nict/finf">
	<span data-e="text" data-x>
		Trepachev Dmitry &copy; 2012-2024	</span>
	<br>
	<a data-e="link" data-x href="https://t.me/trepachev_dmitry">t.me/trepachev_dmitry</a>
</div>							</footer>
			<div data-w="nict/jump">
	<a href="#top"><span>&uarr;</span></a>
</div>			<div data-w="nict/lagr">
	<a href="../../../../../../en/javascript/book/prime/dom/practice/single-element-editing.html" data-m-curr="T">en</a><a href="../../../../../../ru/javascript/book/prime/dom/practice/single-element-editing.html" data-m-curr="F">ru</a></div>					</div>
		
		<script src="../../../../../../tore/@/metrikaΣ.js?v=1"></script>	</body>
</html>